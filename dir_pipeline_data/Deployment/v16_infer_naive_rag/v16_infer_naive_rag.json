{"lineList": [{"from": "ekosig5ufg", "label": "value -> query_obj", "label_from": "value", "label_from_outputList": ["value"], "label_to": "query_obj", "label_to_inputList": ["query_obj", "retriever_list"], "to": "vhg9l264fp"}, {"from": "57frm38v1m", "label": "knowledge_info -> knowledge_info", "label_from": "knowledge_info", "label_from_outputList": ["knowledge_info"], "label_to": "knowledge_info", "label_to_inputList": ["query_obj", "knowledge_info", "test_data_info", "train_data_info", "dev_data_info"], "to": "90cjf6uifn"}, {"from": "90cjf6uifn", "label": "final_result -> retriever_list", "label_from": "final_result", "label_from_outputList": ["final_result"], "label_to": "retriever_list", "label_to_inputList": ["query_obj", "retriever_list"], "to": "vhg9l264fp"}, {"from": "ekosig5ufg", "label": "value -> query_obj", "label_from": "value", "label_from_outputList": ["value"], "label_to": "query_obj", "label_to_inputList": ["query_obj", "knowledge_info", "test_data_info", "train_data_info", "dev_data_info"], "to": "90cjf6uifn"}, {"from": "vhg9l264fp", "label": "prompt_obj -> query_obj", "label_from": "prompt_obj", "label_from_outputList": ["prompt_obj"], "label_to": "query_obj", "label_to_inputList": ["query_obj", "train_data_info", "dev_data_info"], "to": "8n91bmwfc"}, {"from": "8n91bmwfc", "label": "final_result -> params", "label_from": "final_result", "label_from_outputList": ["final_result"], "label_to": "params", "label_to_inputList": ["params"], "to": "98rurcu3lc"}], "name": "v16_infer_naive_rag", "nodeList": [{"codeFilePath": "kninjllm/llm_dataloader/knowledgeLoader.py", "ico": "el-icon-time", "id": "57frm38v1m", "initParams": [{"name": "tag", "type": "str\n(必选)\n此知识的tag", "value": "文本数据库"}, {"name": "knowledge_path", "type": "str\n(可选)\n加载服务器中的知识,请填此项", "value": ""}, {"name": "elasticIndex", "type": "str\n(可选)\n加载ES中的知识,请填此项", "value": "all_liner_data_test"}], "inputParams": [], "left": "703px", "name": "KnowledgeCombiner", "outputParams": [{"name": "knowledge_info", "type": "Dict[str, Any]", "value": ""}], "state": "success", "top": "67px", "type": "KnowledgeCombiner"}, {"codeFilePath": "kninjllm/llm_common/mutiplexer.py", "components": [], "description": "", "ico": "el-icon-time", "id": "ekosig5ufg", "initParams": [], "inputParams": [{"name": "value", "type": "Dict[str,Any]", "value": "{\"question\":\"Who costarred in 1935 American drama film Les Misérables with the husband of Elsa Lanchester?\"}"}], "left": "267px", "name": "Multiplexer", "outputParams": [{"name": "value", "type": "Dict[str,Any]", "value": ""}], "state": "success", "top": "76px", "type": "Multiplexer"}, {"codeFilePath": "kninjllm/llm_builder/prompt_builder.py", "components": [], "description": "Prompt generation based on the template", "ico": "el-icon-time", "id": "vhg9l264fp", "initParams": [{"name": "template", "type": "str\n(必选)\npython的Julia2模板字符串", "value": "Answer the question based on the given document. \nThe following are given documents: \\n\n{% for doc in retriever_list%}\n    {{ doc['content'] }}\n{% endfor %}\n\\nQuestion: {{query_obj['question']}} \\n\nAnswer:"}], "inputParams": [{"name": "query_obj", "type": "Dict[str,Any]", "value": ""}, {"name": "retriever_list", "type": "List[List[Dict[str, Any]]]", "value": ""}], "left": "262px", "name": "PromptBuilder", "outputParams": [{"name": "prompt_obj", "type": "Dict[str, Any]", "value": ""}], "state": "success", "top": "244px", "type": "PromptBuilder"}, {"codeFilePath": "kninjllm/llm_builder/output_builder.py", "components": [], "description": "", "ico": "el-icon-time", "id": "98rurcu3lc", "initParams": [], "inputParams": [{"name": "params", "type": "List[Dict[str, Any]]", "value": ""}], "left": "714px", "name": "OutputBuilder", "outputParams": [{"name": "final_result", "type": "Dict[str, Any]", "value": ""}], "state": "success", "top": "411px", "type": "OutputBuilder"}, {"codeFilePath": "kninjllm/llm_retriever/in_memory/bm25_retriever.py", "components": [], "description": "", "ico": "el-icon-time", "id": "90cjf6uifn", "initParams": [{"name": "model_path", "type": "str\n(selectable)\nmodel_path", "value": ""}, {"name": "top_k", "type": "int\n(selectable)\nSort by score and return to the top k items", "value": 3}, {"name": "executeType", "type": "str\n(unchanged)", "value": "infer"}], "inputParams": [{"name": "query_obj", "type": "Dict[str, Any]", "value": ""}, {"name": "knowledge_info", "type": "Dict[str, Any]", "value": ""}, {"name": "test_data_info", "type": "Dict[str, Any]", "value": ""}, {"name": "train_data_info", "type": "Dict[str, Any]", "value": ""}, {"name": "dev_data_info", "type": "Dict[str, Any]", "value": ""}], "left": "705px", "name": "Bm25MemoryRetriever", "outputParams": [{"name": "final_result", "type": "List[List[Dict[str, Any]]]", "value": ""}], "state": "success", "top": "230px", "type": "Bm25MemoryRetriever"}, {"codeFilePath": "kninjllm/llm_generator/base_generator/baichuan2/component_generator_baichuan2.py", "description": "", "ico": "el-icon-time", "id": "8n91bmwfc", "initParams": [{"name": "api_key", "type": "str\n(selectable)", "value": ""}, {"name": "model_path", "type": "str\n(selectable)", "value": ""}, {"name": "executeType", "type": "str\n(unchanged)", "value": "infer"}], "inputParams": [{"name": "query_obj", "type": "Dict[str, Any]", "value": ""}, {"name": "train_data_info", "type": "Dict[str, Any]", "value": ""}, {"name": "dev_data_info", "type": "Dict[str, Any]", "value": ""}], "left": "277px", "name": "Baichuan2Generator", "outputParams": [{"name": "final_result", "type": "Dict[str, Any]", "value": ""}], "state": "success", "top": "432px", "type": "Baichuan2Generator"}], "pipeLineType": "Deployment"}