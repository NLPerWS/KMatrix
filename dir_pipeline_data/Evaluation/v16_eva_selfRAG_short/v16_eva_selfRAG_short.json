{"lineList": [{"from": "hbuy83s7pd", "label": "knowledge_info -> knowledge_info", "label_from": "knowledge_info", "label_from_outputList": ["knowledge_info"], "label_to": "knowledge_info", "label_to_inputList": ["query_obj", "knowledge_info"], "to": "tmnw7jxs0j"}, {"from": "brxfi473k", "label": "value -> query_obj", "label_from": "value", "label_from_outputList": ["value"], "label_to": "query_obj", "label_to_inputList": ["query_obj", "knowledge_info"], "to": "tmnw7jxs0j"}, {"from": "oegsxap3al", "label": "no -> value", "label_from": "no", "label_from_outputList": ["yes", "no"], "label_to": "value", "label_to_inputList": ["value"], "to": "brxfi473k"}, {"from": "tmnw7jxs0j", "label_from": "final_result", "label_from_outputList": ["final_result"], "label_to": "result", "label_to_inputList": ["dataset_info", "result"], "to": "2zdkaxksk3", "label": "final_result -> result"}, {"from": "awlamhm6jp", "to": "2zdkaxksk3", "label_from": "dataset_info", "label_to": "dataset_info", "label_from_outputList": ["dataset_info"], "label_to_inputList": ["dataset_info", "result"], "label": "dataset_info -> dataset_info"}, {"from": "2zdkaxksk3", "to": "oegsxap3al", "label_from": "final_result", "label_to": "checkData", "label_from_outputList": ["final_result"], "label_to_inputList": ["checkData"], "label": "final_result -> checkData"}], "name": "v16_eva_selfRAG_short", "nodeList": [{"codeFilePath": "kninjllm/llm_dataloader/knowledgeLoader.py", "ico": "el-icon-time", "id": "hbuy83s7pd", "initParams": [{"name": "tag", "type": "str\n(固定)\n此知识的tag", "value": "文本数据库: wikipedia"}, {"name": "knowledge_path", "type": "str\n(固定)", "value": ""}, {"name": "elasticIndex", "type": "str\n(固定)\nES的index", "value": "wiki_pedia"}], "inputParams": [], "left": "797px", "name": "Knowledge_wikipedia", "outputParams": [{"name": "knowledge_info", "type": "Dict[str, Any]", "value": ""}], "state": "success", "top": "200px", "type": "Knowledge_wikipedia"}, {"codeFilePath": "kninjllm/llm_common/mutiplexer.py", "components": [], "description": "", "ico": "el-icon-time", "id": "brxfi473k", "initParams": [], "inputParams": [{"name": "value", "type": "Dict[str,Any]", "value": "{\"question\":\"Given four answer candidates, A, B, C and D, choose the best answer choice.\\n\\n### Input:\\nAn astronomer observes that a planet rotates faster after a meteorite impact. Which is the most likely effect of this increase in rotation?\\nA: Planetary density will decrease.\\nB: Planetary years will become longer.\\nC: Planetary days will become shorter.\\nD: Planetary gravity will become stronger.\"}"}], "left": "444px", "name": "Multiplexer", "outputParams": [{"name": "value", "type": "Dict[str,Any]", "value": ""}], "state": "success", "top": "222px", "type": "Multiplexer"}, {"codeFilePath": "kninjllm/llm_dataloader/dataSetLoader.py", "description": "", "ico": "el-icon-time", "id": "awlamhm6jp", "initParams": [{"name": "dataset_path", "type": "str\n(固定)\n数据集路径", "value": "dir_dataset/ODQA_test/nq_test.jsonl"}], "inputParams": [], "left": "69.66665649414062px", "name": "DataSet_Nq_test", "outputParams": [{"name": "dataset_info", "type": "Dict[str, Any]", "value": ""}], "state": "success", "top": "107px", "type": "DataSet_Nq_test"}, {"codeFilePath": "kninjllm/llm_controller/control_self_rag_short_demo.py", "components": ["ContrieverRetriever", "RagGenerator"], "description": "", "ico": "el-icon-time", "id": "tmnw7jxs0j", "initParams": [], "inputParams": [{"name": "query_obj", "type": "Dict[str,Any]", "value": ""}, {"name": "knowledge_info", "type": "Dict[str,Any]", "value": ""}], "left": "457px", "name": "ShortRagController", "outputParams": [{"name": "final_result", "type": "List[Dict[str,Any]]", "value": ""}], "state": "success", "top": "423px", "type": "ShortRagController"}, {"codeFilePath": "kninjllm/llm_router/conditional_router.py", "description": "Used to determine whether the evaluation flow chart has processed all data\n Yes:yes\n No:no", "ico": "el-icon-time", "id": "oegsxap3al", "initParams": [{"name": "max_loop_count", "type": "int\n(selectable)\nControls the maximum number of cycles of the flow chart,\nYou can use temp_loop_count and max_loop_count in routes to determine whether the flow chart has reached the maximum number of cycles", "value": 0}, {"name": "routes", "type": "str\n(unchanged)\nroutes array", "value": "[{\"condition\": \"{{ checkData['flag'] == 1 }}\",\"output\": \"{{ checkData['eva_result'] }}\",\"output_name\": \"yes\",\"output_type\": Dict[str,Any]},{\"condition\": \"{{  checkData['flag'] == 0 }}\",\"output\": \"{{ checkData['query_obj'] }}\",\"output_name\": \"no\",\"output_type\": Dict[str,Any]}]"}], "inputParams": [{"name": "checkData", "type": "Any", "value": ""}], "left": "456px", "name": "checkEvaluateRouter", "outputParams": [{"name": "yes", "type": "str", "value": ""}, {"name": "no", "type": "str", "value": ""}], "state": "success", "top": "10px", "type": "checkEvaluateRouter"}, {"codeFilePath": "kninjllm/llm_evaluation/evaluator.py", "description": "Used to evaluate end-to-end tasks", "ico": "el-icon-time", "id": "2zdkaxksk3", "initParams": [], "inputParams": [{"name": "dataset_info", "type": "Dict[str,Any]", "value": ""}, {"name": "result", "type": "Dict[str,Any]", "value": ""}], "left": "41px", "name": "Evaluator", "outputParams": [{"name": "final_result", "type": "Dict[str,Any]", "value": ""}], "state": "success", "top": "326px", "type": "Evaluator"}], "pipeLineType": "Evaluation"}